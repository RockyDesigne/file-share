<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>File Sharing SPA</title>
    <link rel="stylesheet" href="main.css" />
</head>
<body>
<h1>File Sharing SPA</h1>

<div id="auth-container">
    <div>
        <button id="show-login-btn">Go to login</button>
        <button id="show-register-btn">Go to register</button>
    </div>

    <div id="login-form" style="display: none;">
        <h2>Login</h2>
        <form>
            <label for="login-username">Username: </label>
            <input type="text" id="login-username" required />

            <label for="login-password">Password: </label>
            <input type="password" id="login-password" required />

            <button type="submit"> Login </button>
        </form>
        <div id="login-status"></div>
    </div>

    <div id="totp-form" style="display: none;">
        <h2>Please enter the code from your authenticator app</h2>
        <form id="otp-form">
            <label for="code">Code: </label>
            <input type="text" id="code" required />
            <button type="submit" id="verify-btn">Verify</button>
        </form>
        <div id="otp-status"></div>
    </div>

    <div id="register-form" style="display: none;">
        <h2>Register</h2>
        <form>
            <label for="reg-username">Username: </label>
            <input type="text" id="reg-username" required />

            <label for="reg-password">Password: </label>
            <input type="password" id="reg-password" required />

            <button type="submit">Register</button>
        </form>
        <div id="register-status"></div>
    </div>

    <div id="qr-code" style="display: none;">
        <h3>Please scan the QR code in order to access your account</h3>
        <img id="qr-img" alt="QR Code" style="max-width: 200px; display: block; margin: 0 auto;" />
        <div id="qr-status"></div>
        <button type="submit" id="scanned-qr-btn">I have scanned the QR code</button>
    </div>

</div>

<div id="app" style="display: none;">
    <h2>Hello, <span id="current-user">!</span></h2>
    
    <!-- Main View -->
    <div id="main-view" class="view">
        <div class="app-buttons">
            <button id="showUserListBtn" type="button">Show User List</button>
            <button id="pickFolderButton" type="button">Pick folder to share</button>
            <button id="logoutBtn" type="button">Logout</button>
        </div>
    </div>

    <!-- User List View -->
    <div id="user-list-view" class="view" style="display: none;">
        <div class="view-header">
            <button id="back-to-main" class="back-button">← Back to Main</button>
        </div>
        <div id="user-list-container"></div>
    </div>

    <!-- User Files View -->
    <div id="user-files-view" class="view" style="display: none;">
        <div class="view-header">
            <button id="back-to-users" class="back-button">← Back to User List</button>
        </div>
        <div id="files-container"></div>
    </div>
</div>

<!-- Load JavaScript files in order -->
<script src="../static/encrypt.js"></script>
<script src="../static/auth.js"></script>
<script src="../static/sender.js"></script>
<script src="../static/users.js"></script>
<script src="../static/files.js"></script>
<script src="../static/main.js"></script>
</body>
</html>